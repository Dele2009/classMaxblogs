<!DOCTYPE html>
<html lang="en">
<%-include('./components/head')%>

    <body>
        <%-include('./components/header')%>


            <div class="container py-4">
                

                <div class="py-3 mb-4 rounded-3">
                    <div class="container-fluid">
                        <div class="m-auto w-100" style="height: 400px;">
                            <img class="w-100 h-100" src="<%=Blog.heroimage_info.url%>" alt="<%=Blog.title%>-img">
                        </div>
                        <div class="row">
                            <div class="col-lg-8">
                                <div class="pb-3 my-4 border-top">
                                    <a class="d-flex flex-column  align-items-start text-body-emphasis text-decoration-none">
                                        <span class="fs-4 text-capitalize "><b>Blog Author</b>: <%=Blog.author%></span>
                                        <span class="fs-4 text-capitalize "><b>Blog category</b>: <%=Blog.category%></span>
                                    </a>
                                </div>
                                <h1 class="display-5 fw-bold text-capitalize text-center py-5">
                                    <%=Blog.title%>
                                </h1>
                                <div class="w-100">
                                    <%-Blog.blog%>
                                </div>
                                <!-- <a data-route="<%=Blog._id%>" class="btn btn-primary btn-lg" id="delete-key"
                                    type="button">Delete Blog</a> -->
                            </div>
                            <div class="col-lg-4">
                                <%-include('./components/side-widgets')%>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>

            <script>
                let deleteblog = document.getElementById('delete-key')
                deleteblog.addEventListener('click', async (e) => {
                    // e.preventDefault()
                    let url_endpoint = `/blogs/${deleteblog.dataset.route}`;



                    try {
                        const response = await fetch(url_endpoint, {
                            method: 'DELETE',
                        })
                        const data = await response.json()
                        window.location.href = data.redirect;
                        console.log(data)
                    } catch (error) {
                        console.log(error)
                    }

                })
            </script>
    </body>

</html>